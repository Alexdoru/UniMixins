dependencies {
	compile project(":module-mixin")
	compile files(tasks.getByPath(":module-mixin:shadowJarUnimix").getOutputs().getFiles().getSingleFile())
}

archivesBaseName = archivesBaseName.replace("-1.7.10", "-mixingasm-1.7.10")

jar {
	manifest {
		attributes (
			'TweakClass': 'org.spongepowered.asm.launch.MixinTweaker',
			'FMLCorePluginContainsFMLMod': true,
			'ForceLoadAsMod': true,
			'MixinConfigs': 'mixingasm.mixin.json',
			'TweakOrder': 0,
		)
	}
}

ext.uniVersion = version
ext.extraVersion = "0.2.2"
version += "+" + ext.extraVersion

minecraft {
    replace("@VERSION@", extraVersion)
}
